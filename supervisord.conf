# https://github.com/Supervisor/supervisor/issues/376#issuecomment-404385767
[unix_http_server]
file=/var/run/supervisor.sock
chmod=0700

[rpcinterface:supervisor]
supervisor.rpcinterface_factory = supervisor.rpcinterface:make_main_rpcinterface

[supervisorctl]
serverurl=unix:///var/run/supervisor.sock
# ---------

[supervisord]
logfile=/var/log/supervisor/supervisord.log
nodaemon=true

[eventlistener:inorder]
command=/opt/rh/httpd24/root/usr/sbin/listener.py
autostart=true
events=PROCESS_STATE

[program:setup]
command=/root/scripts/ruby-node.sh
priority=100
startsecs=0
autorestart=false
austostart=false
startinorder=true
startnextafter=exited

[program:apache]
command=/opt/rh/httpd24/root/usr/sbin/httpd-scl-wrapper -D FOREGROUND
priority=200
startsecs=0
autorestart=false
autostart=false
startinorder=true